import { Injectable } from '@angular/core';
import { Receta } from '../receta/receta';
import { Storage } from '@ionic/storage';

@Injectable({
  providedIn: 'root'
})
export class ServicesRecipe {

  recetas: Receta[];
  contadorRecetas = 0;

  constructor(private storage: Storage) {
    this.recetas = [
      { idReceta: 1, idCategoria: 'Aperitivos', nombreReceta: 'Cucharillas de salmón y aguacate', imagen: 'https://www.clara.es/medio/2017/05/30/receta-de-cucharillas-de-salmon-y-aguacate_f7e4dafa.jpg', tiempo: '20', ingredientes: 'Salmón, aguacate, tomate, limón salsa de soja, aceite, sal, pimienta y cebolla', preparacion: 'Si el salmón era fresco, deberás congelarlo un par de días antes de manipularlo para matar todos los parásitos que puedan haber. Una vez descongleado, córtalo en daditos pequeños, sin rastro de piel ni espinas, sálalos, y resérvalos. Coge el aguacate, quítale la piel y el hueso central, córtalo en daditos pequeños como los que has hecho de salmón, y rocíalos con el zumo de limón. Lava el tomate y córtalo del mismo modo que los dos ingredientes anteriores, y resérvalo también. Si quieres que quede más fino, puedes pelar el tomate, o bien directamente o escaldándolo unos segundos en agua hierviendo. Coge el aceite de oliva virgen, la soja, el coñac, y un toque de sal y pimienta. Y bátelos todos para que queden bien emulsionados. En un bol grande, mezcla con cuidado los daditos de salmón, aguacate y tomate junto con la vinagreta, procurando que no se rompan al mezclarlos. Y déjalos reposar en la nevera durante una hora más o menos. Pasado el tiempo de reposo, reparte la mezcla en cucharillas de cerámica (con estas cantidades da para unas cuatro cucharillas), y corónalas con cebollino picado. Si no tienes cucharillas de cerámica, lo puedes servir en unas cucharillas normales que sean bonitas, o en vasitos de chupito, por ejemplo.' },
      { idReceta: 2, idCategoria: 'Aperitivos', nombreReceta: 'Caprichos de queso', imagen: 'https://www.semana.es/wp-content/uploads/2016/01/BROCHETAS-DE-MEMBRILLO-Y-QUESOb.jpg', tiempo: '15', ingredientes: 'Peras, jamon serrano, queso manchego, mozarella, tomates cherry, albahaca, queso rallado, aceite, pimienta y sal en escamas', preparacion: 'Corta el trozo de queso manchego en dados que sean aproximadamente del mismo tamaño. Envuelve cada uno de los dados de queso con una tira de jamón serrano. Pela y corta las cuatro peras en cuartos y límpialas sacándoles bien todas las pepitas. En una brocheta, pincha un trozo de pera, un rollito de jamón y queso y, para acabar, otro trozo de pera. Calienta una plancha y agrega un hilo de aceite de oliva. Dora las brochetas por todos sus lados y sirve caliente.' },
      { idReceta: 3, idCategoria: 'Aperitivos', nombreReceta: 'Hummus de garbanzos', imagen: 'https://cocinarconrobot.com/wp-content/uploads/hummus-garbanzos-thermomix.jpg', tiempo: '10', ingredientes: 'Garbanzos, ajos, limón, tahini, comino molido, aceitunas y pimientón ', preparacion: 'Abre el bote de garbanzos y enjuágalos bien bajo el grifo para quitar la sal del líquido conservante. Después, ponlos en un vaso de batidora o similar. Añade un diente de ajo pelado y el zumo de medio limón para potenciar el sabor. Bate hasta que quede homogéneo y espeso. Llega el momento de darle al hummus ese sabor tan característico con el tahini y el comino molido. Sigue batiendo hasta que los ingredientes estén bien integrados. Vierte el puré de garbanzos en un plato y decóralo con un hilo de aceite (opcional) y las aceitunas. Puedes darle color con un poco de pimentón dulce o picante.' },
      { idReceta: 4, idCategoria: 'Aperitivos', nombreReceta: 'Ensaladilla rusa', imagen: 'https://unareceta.com/wp-content/uploads/2018/01/receta-de-ensaladilla-rusa-con-judias.jpg', tiempo: '40', ingredientes: 'Patatas, zanahorias, pimiento morrón, aceitunas, atún, huevos, cebolla, aceite, sal', preparacion: 'Por un lado, despunta, lava y trocea en porciones de un dedo las judías verdes. Por otro, pela las patatas, raspa las zanahorias, lávalas y córtalas en daditos pequeños. Y por último, cuece los tres ingredientes en agua salada durante unos 12 minutos. O si lo prefieres, también puedes hacerlo al vapor para que conserven mejor los nutrientes. Mientras se hierven las hortalizas, cuece también los huevos en agua con sal. Pélalos y pícalos, reservando 1 yema para la decoración del plato. Antes que nada, escurre el atún, el pimiento y las aceitunas, desmenuza el primero y corta en trocitos pequeños el resto. Luego, mézclalo todo con las patatas, las zanahorias y los huevos picados.  Mezcla el yogur con un poco de zumo de limón, dos cucharadas de aceite, un toque de pimienta y el cebollino picado. Incorpóralo a la ensaladilla que habías preparado. Y decora con los tomatitos cortados en gajos, la yema de huevo rallada, y unas hojas de cebollino.' },
      { idReceta: 5, idCategoria: 'Primer plato', nombreReceta: 'Sopa de Picadillo', imagen: 'https://3.bp.blogspot.com/-G83FyprLduQ/WczqRuE8S2I/AAAAAAAAJsQ/f5jR3JTJb8cOTn6D1SsTkH5T1dmU_OIZACLcBGAs/s1600/sopa%2Bde%2Bpicadillo%2B1112222222.jpg', tiempo: '90', ingredientes: 'Pechuga de pollo, costilla salada, puerros, hueso y pellejo añejo, zanahorias, garbanzos, jamon serrano, huevos, ', preparacion: 'Pasar por el agua del grifo los huesos salados para quitarles algo de sal. En caso de usar puerros frescos, limpiarlos y cortarlos por la mitad a lo largo; dejarlos un rato en agua para quitarles la tierra que puedan tener por dentro (con congelados no hace falta). Pelar las zanahorias y cortarlas en trozos grandes. Poner en una cazuela grande el pollo y las carcasas, los huesos lavados, los puerros y las zanahorias. Cubrir con agua y llevar a ebullición. Espumar al principio y dejar cocer a fuego bajo por lo menos 1 hora, hasta que el pollo esté muy tierno. Dejar templar y colar para recoger el caldo solo. Dejar enfriar el caldo y luego meterlo en la nevera toda la noche para que se solidifique la grasa en la superficie y poderla eliminar. Picar la carne del pollo, la zanahoria y el puerro. Reservar para el día siguiente. Recoger con una cuchara toda la grasa sólida de la superficie. Probar la sazón; ojo, porque los huesos salados hacen innecesario con frecuencia el añadir sal. Cocer los huevos hasta que estén duros. Refrescarlos y pelarlos. Picar finamente. Poner el caldo a hervir y añadir los fideos. Cocer el tiempo indicado en el paquete. Mientras se cuecen los fideos, picar el jamón serrano. Servir de inmediato la sopa agregando las hortalizas picadas y la carne del pollo, el jamón serrano y los huevos duros. ' },
      { idReceta: 6, idCategoria: 'Primer plato', nombreReceta: 'Alcachofas al horno', imagen: 'https://unareceta.com/wp-content/uploads/2017/07/receta-de-alcachofas-al-horno-con-patatas.jpg', tiempo: '120', ingredientes: 'Alcachofas, limón, ajo, tomillo, romero, queso parmesano, aceite, cebolla y sal', preparacion: 'En una olla con agua, añade sal y el zumo de limón. Lleva a ebullición el conjunto y una vez que haya hervido, incorpora las alcachofas. Deja cocinar durante 5 minutos, retíralas y enfríalas en un bol con agua y hielos. Prepara un aliño de hierbas mezclando en un mortero el diente de ajo cortado en cuartos con el tomillo y el romero. Añade el queso parmesano y el aceite de oliva. Coloca las alcachofas en una bandeja de horno, salsea con el aliño y hornea a 200 ºC durante 10 minutos aproximadamente. Una vez horneadas, emplata las alcachofas y decóralas con cebollino picado.' },
      { idReceta: 7, idCategoria: 'Primer plato', nombreReceta: 'Sopa de espinacas esparragadas', imagen: 'https://cocinandoentreolivos.com/wp-content/uploads/2018/04/Espinacas-esparragadas-Ja%C3%A9n-receta-www.cocinandoentreolivos.com-13.jpg', tiempo: '110', ingredientes: 'Espinacas, ajo, cebolla, pan duro, pimientón dulce, huevos, aceite, sal y agua', preparacion: 'En una cacerola poner unas dos cucharadas de aceite, sofreír la cebolla bien picada, añadir un poco de sal y cuando empiece a transparentar añadir el ajo picado. Una vez sofrito añadir el pan troceado y rehogar. Añadir una cucharadita de pimentón y dar unas vueltas rápidamente. Incorporar las espinacas y dar unas vueltas. Poner un poco de sal y verter agua hasta cubrir bien las espinacas. Dejar hervir unos 15-20 minutos. Después rectificar de sal y agregar los huevos enteros, dar unas vueltas para que se rompan un poco. Apagar el fuego y dejar que se terminen de cuajar con el calor residual.' },
      { idReceta: 8, idCategoria: 'Primer plato', nombreReceta: 'Macarrones con nata', imagen: 'https://unareceta.com/wp-content/uploads/2015/01/macarrones-con-nata.jpg', tiempo: '45', ingredientes: 'Macarrones, nata, bacon, cebolla, mantequilla, pimienta, oregano, ajo molido, nuez moscada y sal ', preparacion: 'Puse en una sartén la mantequilla para que fuese derritiéndose.Corté la cebolla a trozos pequeños y la añadí a la sartén.Una vez dorada la cebolla le añadí el beicon. Mientras voy cociendo los macarrones.Una vez terminado en otra sartén añado la nata de cocinar con una pizca de sal,nuez moscada,ajo molido y pimienta en grano. Una vez terminado.Pongo a escurrir la pasta y lo mezclo todo.Y además le añado un poco de orégano.' },
      { idReceta: 9, idCategoria: 'Segundo plato', nombreReceta: 'Pollo al horno con patatas', imagen: 'https://unareceta.com/wp-content/uploads/2015/05/muslos-de-pollo-al-horno-con-patatas.jpg', tiempo: '150', ingredientes: 'pollo, patatas, cebolla, zanahorias, tomate, ajo, pimiento, tomillo, romero, sal, pimienta y aceite', preparacion: 'Pelamos la cebolla y las patatas. Cortamos las patatas en rodajitas finas y la cebolla en juliana es decir, en finas tiras. Cortamos también el tomate y el pimiento en cubos grandes. Colocamos todos estos ingredientes, junto con los dientes de ajo enteros y sin pelar, en el fondo de una bandeja para hornos y los disponemos sobre éste uniformemente. Salpimentamos toda la verdura y sobre ella, ponemos los muslos de pollo. Los regamos con un vasito de agua. Salpimentamos también los muslos y añadimos un chorrito de aceite de oliva y un poco de tomillo y romero secos, que les dará un toque extra. Ahora introducimos la bandeja en el horno, previamente calentado a 200ºC, calor arriba y abajo. Dejamos aquí en torno a 20-25 minutos, hasta que esta cara de los muslos del pollo esté dorada. Pasado el tiempo, sacamos la bandeja del horno y le damos la vuelta a cada muslo de pollo. Salpimentamos esta otra cara, echamos un poquito más de aceite y un poco más de romero y tomillo secos. Si ves que el fondo de la bandeja se está secando, añade un poco más de agua. Si no, no es necesario. Volvemos a introducir nuevamente en el horno y dejamos otros 25 minutos, más o menos. Hasta que el pollo esté bien dorado, cocinado en su interior y la verdura esté tierna.' },
      { idReceta: 10, idCategoria: 'Segundo plato', nombreReceta: 'Albondigas en salsa', imagen: 'https://albondigasensalsa.es/img/albondigas-en-salsa-espanola-621.jpg', tiempo: '80', ingredientes: 'Carne picada, huevos, pan de molde, leche, ajo, cebolla, caldo de pollo, harina, comino, vino blanco, perejil, pan rallado, sal, pimienta y aceite.', preparacion: 'Preparamos las albóndigas. Para ello, ponemos en un bol la carne picada, los huevos, la miga de pan bien humedecida en leche, el perejil picado, dos de los tres dientes de ajo que tenemos, también picados y el comino que le va a dar un toque muy interesante a nuestras albondigas de pollo. mezclamos todos los ingredientes con las manos hasta obtener una masa más o menos homogénea. Formamos bolitas con la masa y las pasamos por harina. Que se impregnen bien en su parte externa de ella. Cuando hayamos terminado de formar todas las albóndigas, las freímos en abundante aceite. La idea es sellarlas por su parte más externa, dejando el interior crudo para que no se resequen después en exceso. Reservamos en papel absorbente. Ahora, en una sartén ancha, ponemos un chorrito del aceite que hemos utilizado para la fritura de las albóndigas. Calentamos a fuego suave y añadimos después el diente de ajo que nos quedaba, bien picado. Dejamos cocinar un par de minutos, que no coja color. Añadimos la cebolla cortada en cubos. Salpimentamos y removemos con frecuencia, mientras dejamos que se cocine todo a fuego medio durante unos 15 minutos. Cuando esté bien blandita añadimos el vino blanco y subimos la potencia del fuego. Dejamos que se evapore el alcohol. Tardará en torno a un par de minutos. Ahora añadimos el caldo de pollo y hecho esto, llevamos todo a una trituradora o batidora que tengamos en casa. Vamos a triturar toda la salsa hasta que quede lisa. Sin ningún grumo. Devolvemos a la sartén y rectificamos con más caldo de pollo si fuese necesario. Necesitamos una salsa más bien líquida, pero que tenga algo de cuerpo. Metemos aquí también las albóndigas y nos aseguraremos que se impregnen bien con la salsa. Dejamos cocinar todo el conjunto 10 minutos más, a temperatura suave, tiempo suficiente para que las albóndigas terminen de cocinarse en su interior, y haya intercambio de sabores.' },
      { idReceta: 11, idCategoria: 'Segundo plato', nombreReceta: 'Berenjenas rellenas', imagen: 'https://www.divinacocina.es/wp-content/uploads/berenjena-rellena-verduras-bb.jpg', tiempo: '90', ingredientes: 'Berenjenas, cebolla, ajo, pimiento, carne picada, tomate triturado, tomillo romero, harina, mantequilla, leche, nuez moscada, queso rallado, sal, pimienta y aceite.', preparacion: 'Cortamos la parte del tallo de la berenjena. Después la cortamos a lo largo, por la mitad y a cada mitad, le vamos a hacer unos cortes con un cuchillo. Sin llegar a la parte de la piel. Le hacemos unos cortes, primero a lo largo y luego a lo ancho, para obtener al final unos cortes «en forma de rejilla». Hecho esto, las ponemos en una bandeja de horno, regamos la parte de la carne con un pequeño chorrito de aceite (la berenjena lo absorberá enseguida) y lo metemos en el horno, previamente calentado a 180ºC. Dejamos aquí unos 20 minutos. Pasado el tiempo, retiramos y esperamos que se templen un poco. Después, con una cuchara retiramos la pulpa, manteniendo la cáscara intacta. Al estar parcialmente horneada, se separará muy fácil. En una sartén grande, ponemos a calentar un chorrito de aceite de oliva a fuego suave. Una vez esté caliente, añadimos los dientes de ajo, la cebolla y el pimiento rojo bien picados. Salpimentamos y dejamos cocinar unos 15 minutos, mientras removemos con frecuencia. Pasados los 15 minutos, añadimos la carne de la berenjena, previamente picada. Incorporamos con el resto de la verdura y añadimos la carne picada de cerdo y de ternera. Con la ayuda de una cuchara de madera, vamos desmenuzando la carne, para que no queden mazacotes muy grandes y para ir integrándola con el resto de ingredientes. Cocinamos dos o tres minutos, hasta que pierda el color a crudo. Ahora añadimos el tomate triturado y las cucharaditas de tomillo y romero. Personalmente la combinación de estas dos especias me encanta pero, puedes sustituirlas por una cucharada de orégano. Mezclamos e integramos todos los ingredientes y después, dejamos cocer todo a fuego suave unos 30 minutos. Hasta que se evaporen todo el agua que ha soltado la carne picada y el tomate. Mientras se evapora, preparamos la salsa bechamel. En otra olla alta, ponemos a calentar la mantequilla (puedes sustituirla por aceite de oliva) y una vez se haya derretido, añadimos la harina.  Mezclamos y tostamos unos 3 minutos. Esta mezcla, recibe el nombre de «roux». Pasado el tiempo, vamos añadiendo poco a poco la leche. Añadimos unos 200ml y mezclamos, hasta que se integre con la roux. Hecho esto, volvemos a añadir otros 200ml y volvemos a integrar. Repetimos este paso hasta acabar con toda la leche -y lograr una salsa bechamel ligera-. Es entonces cuando añadimos una cucharadita de nuez moscada y reservamos. Con todo esto hecho, tan sólo queda rellenar las berenjenas. Cogemos las cáscaras y las rellenamos con generosa cantidad del relleno que habíamos preparado. Puedes añadir a cada cáscara la cantidad de relleno que quieras. Lo importante es acabar con todo. Hecho esto, regamos cada berenjena rellena con salsa bechamel. Finalmente espolvoreamos con queso y rallado y las introducimos de nuevo en el horno, función grill a 200ºC. Las dejamos aquí unos 10 minutos, hasta que el queso se gratine.' },
      { idReceta: 12, idCategoria: 'Segundo plato', nombreReceta: 'Dorada al Horno', imagen: 'https://okdiario.com/img/2019/08/29/receta-de-dorada-al-horno-con-panache-de-verduras-655x368.jpg', tiempo: '120', ingredientes: 'Dorada, sal y agua', preparacion: 'En un bol, ponemos toda la sal. Añadimos, de momento, medio vaso de agua y mezclamos con los dedos. Lo que queremos, es que la sal, quede compacta. Que no quede suelta y se pueda coger a puñaditos con las manos. Algo así como la textura, cuando cogemos un puñadito de nieve pero, en este caso, con sal gorda. Si añadido el medio vaso de agua, no logramos esta textura, echamos el agua restante hasta lograrla. logrado dicha textura y en una fuente de horno, ponemos una fina capa de la sal, apretándola con las manos. Sobre ella, ponemos las doradas. Tapamos las doradas con la sal restante, asegurándonos de apretar un poco, de tal manera que quede bien compacta y las doradas queden bien tapadas. Sólamente vamos a dejar que asomen las cabezas. Es decir que éstas no las vamos a tapar. El resto del pescado, debe quedar todalmente cubierto por la sal. Como decía, aunque parezca mucha cantidad, la dorada sólamente va absorber una mínima cantidad, quedando finalmente al punto de sal. Introducimos la bandeja en la rendija central del horno, previamente calentado a 200ºC. Generalmente la dorada se hace en unos 20 minutos pero, en este caso, al llevar esta capa protectora de sal, debemos dejarla un poco más, para que el calor penetre completamente en el interior del pescado. Tampoco demasiado más, para que no se reseque. Con 25 minutos, debería ser suficiente. Pasado el tiempo, retiramos del horno. Eliminamos con cuidado toda la sal que recubre el pescado que, ya ha cumplido su función y servimos inmediatemente.' },
      { idReceta: 13, idCategoria: 'Postres', nombreReceta: 'Tarta de queso', imagen: 'https://www.cocinacaserayfacil.net/wp-content/uploads/2017/01/Tarta-de-queso.jpg', tiempo: '50', ingredientes: 'queso Philadelphia, yogur natural, huevos, harina, azucar y mantequilla', preparacion: 'Pon el horno a calentar a 175º C. Unta el molde con mantequilla, espolvorea un poco de harina y azúcar, repártelo por el molde y desecha lo que no quede adherido a la mantequilla. Reserva el molde. Mezcla en un cuenco amplio todos los ingredientes, el queso, los yogures (puedes sustituir alguno por un yogur de limón u otro sabor), los huevos, la harina y el azúcar, y bate con la batidora de mano hasta obtener una crema fina. Vierte la masa en el molde e introdúcelo en el horno cuando esté a la temperatura marcada. Deja cocer una media hora, dependerá del grosor que le hayas dado y si ves que se tuesta mucho, cúbrela con papel de aluminio. La tarta estará hecha cuando introduzcas un palillo y salga limpio. Cuando retires la tarta del horno, déjala enfriar y después resérvala en el frigorífico, es cuando adquirirá la particular y clásica textura de las tartas de queso.' },
      { idReceta: 14, idCategoria: 'Postres', nombreReceta: 'Flan de huevo', imagen: 'http://www.annarecetasfaciles.com/files/flan-de-huevo-3aa.jpg', tiempo: '60', ingredientes: 'Leche, huevos y azúcar', preparacion: 'Ponemos en un cazo pequeño el azúcar con el agua y calentamos a fuego alto, hasta que empiece a caramelizar. No removeremos con ningún instrumento mientras se calienta. Mantenemos el cazo en el fuego hasta que el caramelo esté oscurito y repartimos el caramelo en seis moldes de flan. Ponemos la leche en un cazo y calentamos suavemente. Abrimos la vaina de vainilla y raspamos las semillas; las echamos a la leche. O agregamos el extracto si lo usamos. Llevamos la leche a ebullición y apagamos el fuego; dejamos que se temple cinco minutos, mientras la vainilla infunde su sabor. En un bol cascamos los huevos y los batimos con el azúcar. Cuando la leche se haya enfriado un poco la vamos añadiendo de poco en poco, sin dejar de batir, hasta mezclar ambas cosas por completo. Distribuimos esta mezcla caliente entre los seis moldes de flan. Tapamos cada molde con un pedazo de papel de aluminio. Colocamos las flaneras en una fuente donde no sobre mucho espacio y calentamos el horno a 150º. Ponemos un litro de agua a hervir. Cuando hierva metemos la fuente en el horno y vertemos el agua hirviendo en la fuente, hasta que cubra por lo menos la mitad de la altura de los moldes. Cerramos el horno y dejamos cocer al baño maría 30 minutos. Al cabo de ese tiempo los flanes deben estar cuajados; sacaremos uno y comprobaremos que el centro está cuajado metiendo un palillo. Los sacamos del baño maría y los dejamos enfriar por completo. Y luego, al frigo. Cuando estén bien fríos los desmoldamos pasando un cuchillo romo entre el flan y el molde. Invertimos la flanera sobre un plato, metemos el cuchillo con cuidado otra vez para romper el vacío y ¡flops! el flan caerá tan ricamente derramando todo su caramelillo.' },
      { idReceta: 15, idCategoria: 'Postres', nombreReceta: 'Tarta tres chocolates', imagen: 'https://www.cocinatis.com/media/photologue/photos/cache/CTIS0277-Tarta-tres-chocolates-sin-nata_desktop_horizontal_full_width.jpg', tiempo: '30', ingredientes: 'Chocolate negro, chocolate con leche, chocolate blanco, azúcar, nata líquida, leche, colacao.', preparacion: 'De los 200 ml de leche que vamos a utilizar para la primera capa de chocolate negro separamos unos 100 ml aproximadamente. Lo que quepa en un vaso. En ellos disolvemos un sobre de cuajada en polvo hasta que esté bien mezclado. El resto de la leche (100 ml) y 200 ml de nata los echamos a un cazo y lo ponemos a hervir con 30 g. de azúcar. Esta será la capa de chocolate menos dulce pues el chocolate 70% lleva poco azúcar, el contraste estará muy bueno. Troceamos el chocolate, cuanto más fino quede mejor se fundirá y lo añadimos con las dos cucharadas de cacao en polvo la leche que tenemos en el cazo. Removemos con las varillas hasta que obtengamos una crema homogénea y suave, añadimos la cuajada diluida en la leche y removemos hasta que hierva durante 4 ó 5 minutos. No debemos dejarlo más tiempo que el indicado pues si no la crema de chocolate se nos quemará. Retiramos del fuego y dejamos que se temple.' },
      { idReceta: 16, idCategoria: 'Postres', nombreReceta: 'Tarta de manzana', imagen: 'https://okdiario.com/img/2019/10/21/receta-de-tarta-de-manzana-expres-con-thermomix-1-655x368.jpg', tiempo: '125', ingredientes: 'Manzanas, huevos, azúcar, harina, aceite de girasol, leche, levadura, ralladura de limón, mermelada de melocotón y agua.', preparacion: 'Pelamos y sacamos el corazón a 3 manzanas y las cortamos en trozos pequeños. Las ponemos en un bol y añadimos los huevos, el aceite, la ralladura de limón, la leche, y el azúcar. Tamizamos la harina y la levadura química y lo añadimos al bol. Removemos un poco para que se integre la harina y con un batidor eléctrico batimos todo. Preparamos un molde redondo de 24 cm. de diámetro y lo untamos con mantequilla. Ponemos dentro del molde la masa. Pelamos las otras dos manzanas y les sacamos el corazón. Las partimos por la mitad y las cortamos en medias lunas muy finas. Cubrimos toda la tarta con las manzanas haciendo un círculo. Hemos precalentado el horno a 180º centígrados solo por la parte de abajo y horneamos la tarta durante unos 50 minutos aproximadamente. Antes de que tenga demasiado color por encima se puede tapar con papel de aluminio. Hay que hacer la prueba del palillo para saber que ya está cocida. Para dar brillo a la tarta pondremos en un vasito una cucharada de mermelada y 2 cucharadas de agua. Removeremos hasta que quede bien mezclado y antes de que se enfríe la tarta, pintaremos con un pincel por encima de las manzanas. Dejaremos enfriar la tarta antes de desmoldarla.' }
    ];
  }

  getRecetaJSON(): Receta[] {
    return this.recetas;
  }

  getRecetaID(id: number): Receta {
    return this.recetas.filter(r => r.idReceta == id)[0];
  }
  
  getRecetas(): Promise<Receta[]> {
    this.storage.get('contadorRecetas').then(
      data => {this.contadorRecetas = data} 
    );
    return this.storage.get('recetas').then((data) => {
      if (data) {
        this.recetas = data;
      }
      return data;}
    );
  }
  
  saveReceta(t): Promise<Receta[]> {
    if (t.idReceta) {
      this.recetas[this.recetas.findIndex(receta => receta.idReceta === t.idReceta)] = t;
    }
    return this.storage.set('recetas', this.recetas);
  }
  deleteReceta(idReceta: number): Promise<Receta[]> {
    this.recetas = this.recetas.filter(t => t.idReceta != idReceta);
    return this.storage.set('recetas', this.recetas);
  }
  getRecetaById(id: number): Receta {
    return this.recetas.find(t => t.idReceta === id);
  }
  newReceta(t): Promise<Receta[]> {
    t.id = this.contadorRecetas;
    this.recetas.push(t);
    this.contadorRecetas++;
    return this.storage.set('recetas', this.recetas).then(
      () => this.storage.set('contadorRecetas', this.contadorRecetas));
  }
}
